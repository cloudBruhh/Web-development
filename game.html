<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéÆNeon Ball Runner</title>
    <style>
        /* ============================================
           CSS STYLES - Makes the game look beautiful
           ============================================ */

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            width: 100vw;
            height: 100vh;
            background: linear-gradient(180deg, #0a0a1f 0%, #1a0a2e 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Arial', sans-serif;
            overflow: hidden;
        }

        #startScreen {
            text-align: center;
            color: #fff;
            animation: fadeIn 0.5s;
        }

        #startScreen h1 {
            font-size: 56px;
            margin-bottom: 20px;
            text-shadow: 0 0 20px #00ffff, 0 0 40px #00ffff, 0 0 60px #00ffff;
            animation: glow 2s ease-in-out infinite;
        }

        #startScreen p {
            font-size: 20px;
            margin-bottom: 40px;
            line-height: 1.6;
        }

        .btn {
            padding: 15px 50px;
            font-size: 24px;
            background: linear-gradient(45deg, #ff00ff, #00ffff);
            border: none;
            border-radius: 10px;
            color: #fff;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 0 30px rgba(255, 0, 255, 0.6);
            transition: all 0.3s;
            text-transform: uppercase;
        }

        .btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 40px rgba(255, 0, 255, 0.9);
        }

        #gameContainer {
            width: 600px;
            height: 600px;
            background: linear-gradient(180deg, #1a1a2e 0%, #16213e 100%);
            position: relative;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 0 50px rgba(0, 255, 255, 0.4);
            border: 3px solid #00ffff;
            display: none;
        }

        #score {
            position: absolute;
            top: 20px;
            left: 20px;
            color: #fff;
            font-size: 28px;
            font-weight: bold;
            text-shadow: 0 0 15px #00ffff;
            z-index: 10;
        }

        #powerUpIndicators {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
            z-index: 10;
        }

        .powerup-icon {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            animation: bounce 0.5s ease-in-out infinite;
        }

        .shield-icon {
            background: rgba(0, 255, 0, 0.4);
            border: 3px solid #0f0;
            box-shadow: 0 0 20px #0f0;
        }

        .speed-icon {
            background: rgba(255, 255, 0, 0.4);
            border: 3px solid #ff0;
            box-shadow: 0 0 20px #ff0;
        }

        .slow-icon {
            background: rgba(0, 100, 255, 0.4);
            border: 3px solid #0af;
            box-shadow: 0 0 20px #0af;
        }

        .lane-divider {
            position: absolute;
            top: 0;
            width: 3px;
            height: 100%;
            background: linear-gradient(180deg, transparent 0%, rgba(0, 255, 255, 0.4) 50%, transparent 100%);
            background-size: 100% 40px;
            animation: scrollDown 0.5s linear infinite;
        }

        #player {
            position: absolute;
            width: 60px;
            height: 60px;
            background: radial-gradient(circle, #00ffff, #ff00ff 40%, transparent 70%);
            border-radius: 50%;
            box-shadow: 0 0 30px #00ffff, 0 0 60px #ff00ff, inset 0 0 20px #00ffff;
            transition: left 0.2s ease-out;
            z-index: 5;
            animation: pulse 0.5s ease-in-out infinite;
        }

        #player.shielded {
            background: radial-gradient(circle, #00ff00, #00ff00 40%, transparent 70%);
            box-shadow: 0 0 40px #0f0, 0 0 80px #0f0, inset 0 0 30px #0f0;
            animation: pulse 0.3s ease-in-out infinite, shieldPulse 1s ease-in-out infinite;
        }

        .obstacle {
            position: absolute;
            transition: left 0.5s ease-out;
        }

        .obstacle.block {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #ff0000, #ff6666);
            box-shadow: 0 0 25px #f00;
            border-radius: 8px;
            border: 2px solid #ff0000;
        }

        .obstacle.spike {
            width: 0;
            height: 0;
            border-left: 30px solid transparent;
            border-right: 30px solid transparent;
            border-bottom: 60px solid #ff0000;
            filter: drop-shadow(0 0 20px #f00);
        }

        .obstacle.laser {
            width: 80px;
            height: 12px;
            background: linear-gradient(90deg, transparent, #ff00ff, #ff00ff, transparent);
            box-shadow: 0 0 25px #f0f;
            border-radius: 6px;
        }

        .obstacle.barrier {
            width: 60px;
            height: 60px;
            background: repeating-linear-gradient(45deg, #ff0000, #ff0000 10px, #000 10px, #000 20px);
            box-shadow: 0 0 25px #f00;
            border-radius: 8px;
            border: 2px solid #ff0000;
        }

        .powerup {
            position: absolute;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 26px;
            animation: spin 2s linear infinite, float 1s ease-in-out infinite;
        }

        .powerup.shield {
            background: radial-gradient(circle, rgba(0, 255, 0, 0.6), transparent);
            box-shadow: 0 0 30px #0f0;
            border: 3px solid #0f0;
        }

        .powerup.speed {
            background: radial-gradient(circle, rgba(255, 255, 0, 0.6), transparent);
            box-shadow: 0 0 30px #ff0;
            border: 3px solid #ff0;
        }

        .powerup.slow {
            background: radial-gradient(circle, rgba(0, 100, 255, 0.6), transparent);
            box-shadow: 0 0 30px #0af;
            border: 3px solid #0af;
        }

        #gameOverScreen {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 20;
            animation: fadeIn 0.3s;
        }

        #gameOverScreen h2 {
            color: #fff;
            font-size: 52px;
            margin-bottom: 20px;
            text-shadow: 0 0 30px #ff0000;
            animation: shake 0.5s;
        }

        #gameOverScreen p {
            color: #fff;
            font-size: 28px;
            margin-bottom: 40px;
        }

        /* Animations */
        @keyframes scrollDown {
            from {
                background-position: 0 0;
            }

            to {
                background-position: 0 40px;
            }
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.1);
            }
        }

        @keyframes shieldPulse {

            0%,
            100% {
                box-shadow: 0 0 40px #0f0, 0 0 80px #0f0;
            }

            50% {
                box-shadow: 0 0 60px #0f0, 0 0 120px #0f0;
            }
        }

        @keyframes spin {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        @keyframes bounce {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.2);
            }
        }

        @keyframes glow {

            0%,
            100% {
                text-shadow: 0 0 20px #00ffff, 0 0 40px #00ffff;
            }

            50% {
                text-shadow: 0 0 30px #00ffff, 0 0 60px #00ffff, 0 0 80px #00ffff;
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes shake {

            0%,
            100% {
                transform: translateX(0);
            }

            25% {
                transform: translateX(-10px);
            }

            75% {
                transform: translateX(10px);
            }
        }
    </style>
</head>

<body>
    <!-- START SCREEN -->
    <div id="startScreen">
        <h1>‚ö° NEON RUNNER‚ö°</h1>
        <p>
            üéÆ Use <strong>‚Üê ‚Üí</strong> or <strong>A/D</strong> keys to switch lanes<br />
            üöÄ Avoid obstacles and collect power-ups!<br />
            üíé Survive as long as you can!
        </p>
        <button id="startBtn" class="btn">Start Game</button>
    </div>

    <!-- GAME CONTAINER -->
    <div id="gameContainer">
        <div id="score">Score: 0</div>
        <div id="powerUpIndicators"></div>

        <div class="lane-divider" style="left: 220px;"></div>
        <div class="lane-divider" style="left: 340px;"></div>

        <div id="player"></div>

        <div id="gameOverScreen">
            <h2>üíÄ GAME OVER üíÄ</h2>
            <p id="finalScore">Final Score: 0</p>
            <button id="restartBtn" class="btn">Play Again</button>
        </div>
    </div>

    <script>
        /* ============================================
           JAVASCRIPT - Game Logic
           ============================================ */

        // Game Variables
        let gameStarted = false;
        let gameOver = false;
        let score = 0;
        let currentLane = 1; // 0=left, 1=center, 2=right
        let obstacles = [];
        let powerUps = [];
        let hasShield = false;
        let speedBoost = false;
        let slowMotion = false;
        let gameSpeed = 5;
        let obstacleSpawnRate = 120;
        let frameCount = 0;
        let animationFrameId;

        // DOM Elements
        const startScreen = document.getElementById('startScreen');
        const gameContainer = document.getElementById('gameContainer');
        const player = document.getElementById('player');
        const scoreDisplay = document.getElementById('score');
        const gameOverScreen = document.getElementById('gameOverScreen');
        const finalScoreDisplay = document.getElementById('finalScore');
        const powerUpIndicators = document.getElementById('powerUpIndicators');

        // Lane Position Calculator
        function getLanePosition(laneNum) {
            return laneNum * 120 + 140;
        }

        // Start/Restart Game
        document.getElementById('startBtn').addEventListener('click', startGame);
        document.getElementById('restartBtn').addEventListener('click', startGame);

        function startGame() {
            // Reset everything
            gameStarted = true;
            gameOver = false;
            score = 0;
            currentLane = 1;
            obstacles = [];
            powerUps = [];
            hasShield = false;
            speedBoost = false;
            slowMotion = false;
            gameSpeed = 5;
            obstacleSpawnRate = 120;
            frameCount = 0;

            document.querySelectorAll('.obstacle, .powerup').forEach(el => el.remove());

            startScreen.style.display = 'none';
            gameContainer.style.display = 'block';
            gameOverScreen.style.display = 'none';
            scoreDisplay.textContent = 'Score: 0';
            powerUpIndicators.innerHTML = '';
            player.classList.remove('shielded');

            player.style.left = getLanePosition(currentLane) - 30 + 'px';
            player.style.top = '470px';

            gameLoop();
        }

        // Keyboard Controls
        document.addEventListener('keydown', (e) => {
            if (!gameStarted || gameOver) return;

            if (e.key === 'ArrowLeft' || e.key === 'a' || e.key === 'A') {
                if (currentLane > 0) {
                    currentLane--;
                    player.style.left = getLanePosition(currentLane) - 30 + 'px';
                }
            } else if (e.key === 'ArrowRight' || e.key === 'd' || e.key === 'D') {
                if (currentLane < 2) {
                    currentLane++;
                    player.style.left = getLanePosition(currentLane) - 30 + 'px';
                }
            }
        });

        // Spawn Obstacle
        function spawnObstacle() {
            const types = ['block', 'spike', 'laser', 'barrier'];
            const type = types[Math.floor(Math.random() * types.length)];
            const lane = Math.floor(Math.random() * 3);
            const moving = Math.random() > 0.7;

            const obstacle = {
                id: Date.now() + Math.random(),
                element: document.createElement('div'),
                lane: lane,
                y: -50,
                type: type,
                moving: moving,
                movingDirection: Math.random() > 0.5 ? 1 : -1,
                rotation: 0
            };

            obstacle.element.className = 'obstacle ' + type;
            obstacle.element.style.left = getLanePosition(lane) - (type === 'laser' ? 40 : 30) + 'px';
            obstacle.element.style.top = obstacle.y + 'px';
            gameContainer.appendChild(obstacle.element);

            obstacles.push(obstacle);
        }

        // Spawn Power-Up
        function spawnPowerUp() {
            const types = ['shield', 'speed', 'slow'];
            const type = types[Math.floor(Math.random() * types.length)];
            const lane = Math.floor(Math.random() * 3);

            const powerUp = {
                id: Date.now() + Math.random(),
                element: document.createElement('div'),
                lane: lane,
                y: -50,
                type: type
            };

            powerUp.element.className = 'powerup ' + type;
            powerUp.element.style.left = getLanePosition(lane) - 25 + 'px';
            powerUp.element.style.top = powerUp.y + 'px';
            powerUp.element.textContent = type === 'shield' ? 'üõ°Ô∏è' : type === 'speed' ? '‚ö°' : 'üïê';

            gameContainer.appendChild(powerUp.element);
            powerUps.push(powerUp);
        }

        // Activate Power-Up
        function activatePowerUp(type) {
            if (type === 'shield') {
                hasShield = true;
                player.classList.add('shielded');
                updatePowerUpIndicators();
                setTimeout(() => {
                    hasShield = false;
                    player.classList.remove('shielded');
                    updatePowerUpIndicators();
                }, 5000);
            } else if (type === 'speed') {
                speedBoost = true;
                updatePowerUpIndicators();
                setTimeout(() => {
                    speedBoost = false;
                    updatePowerUpIndicators();
                }, 3000);
            } else if (type === 'slow') {
                slowMotion = true;
                updatePowerUpIndicators();
                setTimeout(() => {
                    slowMotion = false;
                    updatePowerUpIndicators();
                }, 4000);
            }
        }

        // Update Power-Up Display
        function updatePowerUpIndicators() {
            powerUpIndicators.innerHTML = '';

            if (hasShield) {
                const icon = document.createElement('div');
                icon.className = 'powerup-icon shield-icon';
                icon.textContent = 'üõ°Ô∏è';
                powerUpIndicators.appendChild(icon);
            }
            if (speedBoost) {
                const icon = document.createElement('div');
                icon.className = 'powerup-icon speed-icon';
                icon.textContent = '‚ö°';
                powerUpIndicators.appendChild(icon);
            }
            if (slowMotion) {
                const icon = document.createElement('div');
                icon.className = 'powerup-icon slow-icon';
                icon.textContent = 'üïê';
                powerUpIndicators.appendChild(icon);
            }
        }

        // Collision Detection
        function checkCollision(x1, y1, x2, y2, threshold = 40) {
            return Math.abs(x1 - x2) < threshold && Math.abs(y1 - y2) < threshold;
        }

        // Main Game Loop
        function gameLoop() {
            if (gameOver) return;

            frameCount++;
            score++;
            scoreDisplay.textContent = 'Score: ' + Math.floor(score / 10);

            // Increase Difficulty
            if (frameCount % 300 === 0) {
                gameSpeed = Math.min(gameSpeed + 0.3, 12);
                obstacleSpawnRate = Math.max(obstacleSpawnRate - 5, 50);
            }

            // Spawn Objects
            if (frameCount % obstacleSpawnRate === 0) spawnObstacle();
            if (frameCount % 400 === 0 && Math.random() > 0.5) spawnPowerUp();

            const currentSpeed = gameSpeed * (slowMotion ? 0.5 : 1) * (speedBoost ? 1.5 : 1);

            // Update Obstacles
            obstacles = obstacles.filter(obs => {
                obs.y += currentSpeed;
                obs.element.style.top = obs.y + 'px';

                if (obs.moving && obs.y > 100 && obs.y < 500 && frameCount % 60 === 0) {
                    obs.lane = Math.max(0, Math.min(2, obs.lane + obs.movingDirection));
                    obs.element.style.left = getLanePosition(obs.lane) - (obs.type === 'laser' ? 40 : 30) + 'px';
                }

                if (obs.type === 'laser') {
                    obs.rotation = (obs.rotation + 3) % 360;
                    obs.element.style.transform = 'rotate(' + obs.rotation + 'deg)';
                }

                const playerX = getLanePosition(currentLane);
                const obsX = getLanePosition(obs.lane);

                if (checkCollision(playerX, 500, obsX, obs.y)) {
                    if (!hasShield) {
                        endGame();
                        return false;
                    } else {
                        hasShield = false;
                        player.classList.remove('shielded');
                        updatePowerUpIndicators();
                        obs.element.remove();
                        return false;
                    }
                }

                if (obs.y > 650) {
                    obs.element.remove();
                    return false;
                }

                return true;
            });

            // Update Power-Ups
            powerUps = powerUps.filter(pu => {
                pu.y += currentSpeed;
                pu.element.style.top = pu.y + 'px';

                const playerX = getLanePosition(currentLane);
                const puX = getLanePosition(pu.lane);

                if (checkCollision(playerX, 500, puX, pu.y)) {
                    activatePowerUp(pu.type);
                    pu.element.remove();
                    return false;
                }

                if (pu.y > 650) {
                    pu.element.remove();
                    return false;
                }

                return true;
            });

            animationFrameId = requestAnimationFrame(gameLoop);
        }

        // End Game
        function endGame() {
            gameOver = true;
            gameStarted = false;

            if (animationFrameId) cancelAnimationFrame(animationFrameId);

            finalScoreDisplay.textContent = 'Final Score: ' + Math.floor(score / 10);
            gameOverScreen.style.display = 'flex';
        }
    </script>
</body>

</html>